<div class="flex items-center justify-between mb-4">
  <h2 class="text-2xl font-bold">Lista de productos</h2>
  <button
    routerLink="/dashboard/productos/create"
    class="px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700"
  >
    Crear producto
  </button>
</div>

<table class="w-full bg-white rounded shadow">
  <thead class="text-left bg-gray-200">
    <tr>
      <th class="p-3">Nombre</th>
      <th class="p-3">Precio</th>
      <th class="p-3">Descripcion</th>
      <th class="p-3">Stock</th>
      <th class="p-3 text-center">Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr
      *ngFor="let producto of productos"
      class="border-b hover:bg-gray-50"
    >
      <td class="p-3">{{ producto.nombre }}</td>
      <td class="p-3">${{ producto.precio }}</td>
      <td class="p-3">{{ producto.descripcion }}</td>
      <td class="p-3">{{ producto.stock }}</td>
      <td class="p-3 space-x-2 text-center">
        <button
          (click)="editarProducto(producto.id)"
          class="text-blue-500 hover:underline"
        >
          ✏️
        </button>
        <button
          class="text-red-600 hover:text-red-800"
          (click)="abrirModal(modalTemplate, producto)"
        >
          🗑️
        </button>
      </td>
    </tr>
  </tbody>
</table>

<!-- Modal -->
<ng-template #modalTemplate>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Confirmar eliminación</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="cerrarModal()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p>¿Estás seguro que deseas eliminar el producto <strong>{{ productoSeleccionado?.nombre }}</strong>?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="cerrarModal()">Cancelar</button>
    <button type="button" class="btn btn-danger" (click)="confirmarEliminar()">Eliminar</button>
  </div>
</ng-template>
